---
title: "Backend"
description: "Crea la tua istanza di eventn-backend."
---

<Info>
  **Prerequisite**: Node.js (version 21)
</Info>

**Step 0**: Clona il repository:

```bash
git clone https://github.com/T06-EvenTN/backend.git
cd backend/
```

**Step 1**: Installa le dipendenze necessarie:

<CodeGroup>

```bash npm
npm install
```

</CodeGroup>

**Step 2**: Clona il file .env.example e inserisci i file necessari:

```bash
cp .env.example .env
# modifica .env con il tuo editor di testo preferito
```

**Step 3**: Pronti al lancio\! usa il seguente comando per lanciare il backend:

```bash
npm run prod
# oppure npm run dev per eseguire test in locale
```

### URL database

Per l'indirizzo del database fare riferimento alla pagina apposita [database](database.mdx)

### Porte

Il numero di porta usato dal backend viene specificato nel file .env; per test in locale raccomandiamo l'utilizzo della porta 8080, tuttavia quest'ultima può essere modificata a seconda delle esigenze.

## Access e refresh token

Questi valori sono essenziali per la sicurezza dell'applicazione, in quanto vengono utilizzati dalla libreria JWT per generare in modo corretto i token da utilizzare all'interno della web app. Questi possono essere generati in qualsiasi maniera, tuttavia consigliamo il seguente codice JS da eseguire direttamente nel terminale (lanciando prima il runtime usando il comando "node") per generare rapidamente una stringa randomica di 64 caratteri:

```javascript
require('crypto').randomBytes(64).toString('hex')
```

i risultati di questo comando possono essere usati in modo sicuro come access e refresh token.

<Warning>
  In caso si scelga di utilizzare metodi alternativi per generare questi token, raccomandiamo una lunghezza minima di **64 caratteri** e sconsigliamo l'utilizzo di geenratori pseudorandomici basati su seed facilmente manipolabili. Più l'entropia è alta, meglio è.
</Warning>

## Cloudinary

All'interno del file .env, viene richiesto l'inserimento di 3 valori facenti riferimento al servizio di object storage **Cloudinary**, necessario per l'utilizzo di immagini personalizzate associate ai vari eventi. Per ottenere tutte le chiavi necessarie è sufficiente:

1. Creare un account presso [www.cloudinary.com](http://www.cloudinary.com)
2. Una volta creato l'account, sarà disponibile un menù a tendina in alto a destra contenente il vostro production environment. il nome di questo environment corrisponde a **CLOUDINARY_NAME** nel vostro .env
3. Sotto la voce "production environment" sarà presente un tasto con scritto "Go to API Keys". Entrati in questa sezione saranno disponibili due valori corrisponenti ai vostri API secrets
4. il valore "API Key" del sito di Cloudinary corrisponde al valore **CLOUDINARY_KEY** del vostro .env, così come il valore "API Secret" cossirponde al valore **CLOUDINARY_SECRET** del vostro .env